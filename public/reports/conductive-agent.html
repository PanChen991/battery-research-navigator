<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é”‚ç”µæ± å¯¼ç”µå‰‚å¸‚åœºè°ƒç ”åˆ†æ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chosen Palette: Warm Neutrals -->
    <!-- Application Structure Plan: é‡‡ç”¨åŒæ ‡ç­¾é¡µå¼ä»ªè¡¨ç›˜ç»“æ„ã€‚ç¬¬ä¸€ä¸ªæ ‡ç­¾é¡µä¸“æ³¨äºâ€œå¯¼ç”µå‰‚ææ–™ç‰¹æ€§â€ï¼Œç¬¬äºŒä¸ªæ ‡ç­¾é¡µä¸“æ³¨äºâ€œå¯¼ç”µå‰‚å‚å•†åº”ç”¨â€ï¼Œè¿™ç›´æ¥å¯¹åº”ç”¨æˆ·çš„ä¸¤ä¸ªè°ƒç ”ä»»åŠ¡ã€‚è¿™ç§ç»“æ„åˆ†ç¦»äº†ä¸åŒå±‚é¢çš„ä¿¡æ¯ï¼Œä½¿ç”¨æˆ·èƒ½å¤Ÿèšç„¦äºå•ä¸€ä»»åŠ¡ï¼Œé€šè¿‡å¹¶æ’çš„å›¾è¡¨å’Œè¡¨æ ¼è¿›è¡Œé«˜æ•ˆçš„æ•°æ®æ¢ç´¢å’Œå¯¹æ¯”ã€‚ç”¨æˆ·å¯é€šè¿‡é¡¶éƒ¨çš„å¯¼èˆªæŒ‰é’®åœ¨ä¸¤ä¸ªè§†å›¾ä¹‹é—´è½»æ¾åˆ‡æ¢ï¼Œæ¯ä¸ªè§†å›¾éƒ½åŒ…å«ç‹¬ç«‹çš„ç­›é€‰å’Œæœç´¢åŠŸèƒ½ï¼Œä»¥å®ç°å¯¹å¤æ‚æ•°æ®é›†çš„å¿«é€Ÿåˆ†æã€‚ä¹‹æ‰€ä»¥é€‰æ‹©æ­¤ç»“æ„ï¼Œæ˜¯ä¸ºäº†æä¾›æ¸…æ™°ã€ä»»åŠ¡é©±åŠ¨çš„ç”¨æˆ·ä½“éªŒï¼Œé¿å…ä¿¡æ¯è¿‡è½½ã€‚ -->
    <!-- Visualization & Content Choices: 
        1. ææ–™ç‰¹æ€§è§†å›¾: ç›®æ ‡ - å±•ç¤ºä¸åŒå¯¼ç”µå‰‚ç±»å‹çš„åˆ†å¸ƒå’Œè¯¦ç»†å±æ€§ã€‚å‘ˆç°æ–¹å¼ - ä¸€ä¸ªæ¡å½¢å›¾ + ä¸€ä¸ªäº¤äº’å¼è¡¨æ ¼ã€‚äº¤äº’ - å›¾è¡¨æ˜¾ç¤ºå„ç±»ææ–™çš„æ¡ç›®æ•°é‡ï¼Œä¸ºç”¨æˆ·æä¾›å®è§‚è®¤çŸ¥ï¼›è¡¨æ ¼å±•ç¤ºè¯¦ç»†æ•°æ®ã€‚ç”¨æˆ·å¯é€šè¿‡ä¸‹æ‹‰èœå•ç­›é€‰ææ–™ç±»å‹æˆ–ä½¿ç”¨å…³é”®è¯æœç´¢ï¼Œè¡¨æ ¼å’Œå›¾è¡¨å°†åŒæ­¥æ›´æ–°ï¼Œå®ç°æ•°æ®è”åŠ¨æ¢ç´¢ã€‚æ­¤è®¾è®¡æ—¨åœ¨ç»“åˆå®è§‚è¶‹åŠ¿å’Œå¾®è§‚ç»†èŠ‚ã€‚
        2. å‚å•†åº”ç”¨è§†å›¾: ç›®æ ‡ - å¯¹æ¯”åˆ†æå„å¯¼ç”µå‰‚å‚å•†çš„äº§å“ã€æŠ€æœ¯å’Œå¸‚åœºåº”ç”¨ã€‚å‘ˆç°æ–¹å¼ - ä¸¤ä¸ªå›¾è¡¨ï¼ˆå‚å•†-ææ–™åˆ†å¸ƒæ¡å½¢å›¾ï¼Œç”µèŠ¯è§„æ ¼ç¯å½¢å›¾ï¼‰ + ä¸€ä¸ªäº¤äº’å¼è¡¨æ ¼ã€‚äº¤äº’ - æ¡å½¢å›¾å±•ç¤ºå„å‚å•†çš„äº§å“çº¿ä¸°å¯Œåº¦ï¼Œç¯å½¢å›¾æ˜¾ç¤ºä¸»æµç”µèŠ¯åº”ç”¨æ–¹å‘ã€‚ç”¨æˆ·å¯é€šè¿‡å¤šé‡ç­›é€‰ï¼ˆå‚å•†ã€ææ–™ç±»å‹ï¼‰å’Œæœç´¢ä¸æ•°æ®äº¤äº’ï¼Œæ‰€æœ‰å›¾è¡¨å’Œè¡¨æ ¼éƒ½ä¼šåŠ¨æ€å“åº”ï¼Œæä¾›ä¸€ä¸ªå…¨é¢çš„å¸‚åœºç«äº‰æ ¼å±€è§†å›¾ã€‚
        æ‰€æœ‰å›¾è¡¨å‡ä½¿ç”¨Chart.jsåŸºäºCanvasæ¸²æŸ“ï¼Œè¡¨æ ¼ä¸ºçº¯HTML+Tailwind CSSï¼Œäº¤äº’é€»è¾‘ç”±åŸç”ŸJavaScriptå®ç°ï¼Œå®Œå…¨ç¬¦åˆæ— SVG/Mermaidçš„è¦æ±‚ã€‚ -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            background-color: #ffffff;
            color: #333;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
            height: 320px;
            max-height: 40vh;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .active-nav {
            background-color: #374151;
            color: #ffffff;
            font-weight: bold;
        }
        .inactive-nav {
            background-color: #f3f4f6;
            color: #374151;
        }
        .table-container {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
        table {
            width: 100%;
            white-space: nowrap;
        }
        th, td {
            padding: 12px 15px;
            text-align: left;
        }
        thead {
            background-color: #f3f4f6;
            color: #374151;
        }
        tbody tr:nth-child(even) {
            background-color: #f9fafb;
        }
        tbody tr:hover {
            background-color: #e5e7eb;
        }
        .filter-input, .filter-select {
            border: 2px solid #d1d5db;
            background-color: #ffffff;
            border-radius: 8px;
            padding: 8px 12px;
            transition: all 0.3s;
        }
        .filter-input:focus, .filter-select:focus {
            outline: none;
            border-color: #6b7280;
            box-shadow: 0 0 0 3px rgba(107, 114, 128, 0.3);
        }
    </style>
</head>
<body class="bg-white text-gray-800">

    <div class="container mx-auto p-4 sm:p-6 lg:p-8">
        
        <!-- è¿”å›æŒ‰é’® -->
        <div class="mb-4">
            <button onclick="window.close(); if(window.opener){window.opener.focus();} else {window.location.href='/'}" 
                    class="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 shadow-md">
                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                </svg>
                è¿”å›ä¸»é¡µ
            </button>
        </div>
        
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-800">é”‚ç”µæ± å¯¼ç”µå‰‚å¸‚åœºè°ƒç ”åˆ†æ</h1>
            <p class="text-lg text-gray-600 mt-2">ä¸€ä¸ªå…³äºå¯¼ç”µå‰‚ææ–™ç‰¹æ€§ä¸å‚å•†åº”ç”¨çš„äº¤äº’å¼ä»ªè¡¨ç›˜</p>
        </header>

        <nav class="flex justify-start mb-8 bg-gray-100 p-2 rounded-xl shadow-md">
            <button id="nav-materials" class="w-full md:w-auto text-center px-6 py-3 rounded-lg text-base font-medium transition-colors duration-300 active-nav">
                å¯¼ç”µå‰‚ææ–™ç‰¹æ€§
            </button>
            <button id="nav-manufacturers" class="w-full md:w-auto text-center px-6 py-3 rounded-lg text-base font-medium transition-colors duration-300 inactive-nav ml-2">
                å¯¼ç”µå‰‚å‚å•†åº”ç”¨
            </button>
        </nav>

        <main>
            <div id="view-materials">
                <section class="bg-white p-6 rounded-2xl shadow-lg border border-gray-200">
                    <h2 class="text-2xl font-semibold mb-4 text-left text-gray-800">å¯¼ç”µå‰‚ææ–™ç‰¹æ€§åˆ†æ</h2>
                    <p class="text-left text-gray-600 mb-6">æœ¬éƒ¨åˆ†ä¸“æ³¨äºå„ç±»å¯¼ç”µå‰‚ææ–™æœ¬èº«çš„æŠ€æœ¯ç‰¹æ€§ã€åº”ç”¨æ–¹å‘å’Œå‘å±•é˜¶æ®µã€‚æ‚¨å¯ä»¥é€šè¿‡ä¸‹æ–¹çš„ç­›é€‰å™¨å’Œå›¾è¡¨å¿«é€Ÿäº†è§£ä¸åŒææ–™çš„äº®ç‚¹å’Œç ”ç©¶è¿›å±•ï¼Œæˆ–åœ¨è¡¨æ ¼ä¸­æ·±å…¥æŸ¥çœ‹å…·ä½“ä¿¡æ¯ã€‚</p>
                    
                    <div class="flex flex-col md:flex-row gap-4 mb-6">
                        <select id="materials-type-filter" class="filter-select w-full md:w-1/3">
                            <option value="all">æ‰€æœ‰ææ–™ç±»å‹</option>
                        </select>
                        <input type="text" id="materials-search-input" class="filter-input w-full md:w-2/3" placeholder="ğŸ” åœ¨è¡¨æ ¼ä¸­æœç´¢å…³é”®è¯ (ä¾‹å¦‚: é«˜æ¸©, CATL, é‡äº§)...">
                    </div>

                    <div class="mb-8">
                        <div class="chart-container">
                            <canvas id="materials-chart"></canvas>
                        </div>
                    </div>

                    <div class="table-container rounded-lg border border-gray-200">
                        <table id="materials-table" class="min-w-full divide-y divide-gray-200">
                            <thead>
                                <tr>
                                    <th>ææ–™ç±»å‹</th>
                                    <th>åº”ç”¨æ–¹å‘</th>
                                    <th>ä¿¡æ¯æ¥æº</th>
                                    <th>ææ–™äº®ç‚¹</th>
                                    <th>ç›®å‰è¿›å±•</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-200">
                            </tbody>
                        </table>
                    </div>
                </section>
            </div>

            <div id="view-manufacturers" style="display: none;">
                 <section class="bg-white p-6 rounded-2xl shadow-lg border border-gray-200">
                    <h2 class="text-2xl font-semibold mb-4 text-left text-gray-800">å¯¼ç”µå‰‚å‚å•†åº”ç”¨åˆ†æ</h2>
                     <p class="text-left text-gray-600 mb-6">æœ¬éƒ¨åˆ†èšç„¦äºä¸»æµå¯¼ç”µå‰‚å‚å•†åŠå…¶äº§å“çš„å¸‚åœºåº”ç”¨æƒ…å†µã€‚æ‚¨å¯ä»¥æ¢ç´¢å„å‚å•†ä¸»æ‰“çš„ææ–™ç±»å‹ã€æŠ€æœ¯ä¼˜åŠ¿ï¼Œä»¥åŠè¿™äº›ææ–™åœ¨ä¸åŒç”µèŠ¯å‚å’Œç»ˆç«¯äº§å“ä¸­çš„å…·ä½“åº”ç”¨ã€‚</p>
                    
                    <div class="flex flex-col md:flex-row gap-4 mb-6">
                        <select id="manufacturers-name-filter" class="filter-select w-full md:w-1/4">
                            <option value="all">æ‰€æœ‰ææ–™å‚å•†</option>
                        </select>
                        <select id="manufacturers-type-filter" class="filter-select w-full md:w-1/4">
                            <option value="all">æ‰€æœ‰ææ–™ç±»å‹</option>
                        </select>
                        <input type="text" id="manufacturers-search-input" class="filter-input w-full md:w-1/2" placeholder="ğŸ” åœ¨è¡¨æ ¼ä¸­æœç´¢å…³é”®è¯ (ä¾‹å¦‚: ç¢³ç®¡, æ¯”äºšè¿ª, PHEV)...">
                    </div>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                        <div class="chart-container">
                            <canvas id="manufacturers-chart"></canvas>
                        </div>
                        <div class="chart-container">
                            <canvas id="cell-format-chart"></canvas>
                        </div>
                    </div>

                    <div class="table-container rounded-lg border border-gray-200">
                        <table id="manufacturers-table" class="min-w-full divide-y divide-gray-200">
                            <thead>
                                <tr>
                                    <th>ææ–™å‚å•†</th>
                                    <th>ææ–™ç±»å‹</th>
                                    <th>ææ–™ä¿¡æ¯</th>
                                    <th>ææ–™äº®ç‚¹</th>
                                    <th>å‡ºè´§æƒ…å†µ</th>
                                    <th>ç”µèŠ¯å‚ä½¿ç”¨</th>
                                    <th>ç”µèŠ¯è§„æ ¼</th>
                                    <th>ç”µèŠ¯åº”ç”¨é¢†åŸŸ</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-200">
                            </tbody>
                        </table>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const materialsData = [
                { type: 'è¶…å¯¼ç‚­é»‘', application: 'å®å¾·æ—¶ä»£ (CATL), æ¯”äºšè¿ª', source: 'ä¸»æµææ–™å‚', highlight: 'æ€§ä»·æ¯”é«˜, åŸºç¡€å¯¼ç”µç½‘ç»œ', progress: 'å¤§è§„æ¨¡é‡äº§' },
                { type: 'ä¹™ç‚”é»‘', application: 'å›½è½©é«˜ç§‘, ä¸­åˆ›æ–°èˆª', source: 'Denka, ç‹®ç‹', highlight: 'é«˜çº¯åº¦, ä¼˜å¼‚å¸æ¶²æ€§', progress: 'å¤§è§„æ¨¡é‡äº§' },
                { type: 'ç§‘ç´é»‘', application: 'LG, ä¸‰æ˜ŸSDI', source: 'ç‹®ç‹, é˜¿ç§‘ç›', highlight: 'æé«˜æ¯”è¡¨é¢ç§¯, é«˜å¯¼ç”µæ€§', progress: 'é‡äº§' },
                { type: 'ç¢³ç®¡', application: 'ç‰¹æ–¯æ‹‰(4680), è”šæ¥', source: 'å¤©å¥ˆ, OCSiAl', highlight: 'é•¿å¾„æ¯”å¤§, æ„æˆé•¿ç¨‹å¯¼ç”µç½‘ç»œ, é™DCR, é€‚é…ç¡…åŸºè´Ÿæ', progress: 'å¤§è§„æ¨¡é‡äº§' },
                { type: 'è¶…å¯¼éé‡‘å±ææ–™', application: 'å‰æ²¿ç ”ç©¶, å›ºæ€ç”µæ± ', source: 'å­¦æœ¯è®ºæ–‡, ä¸“åˆ©', highlight: 'æ¢ç´¢æ–°å‹å¯¼ç”µæœºåˆ¶, é«˜ç¦»å­ç”µå¯¼ç‡', progress: 'é¢„ç ”' },
                { type: 'çŸ³çƒ¯', application: 'å¹¿æ±½åŸƒå®‰', source: 'æ ¼ç‘èŠ¬, å­¦æœ¯ç•Œ', highlight: 'äºŒç»´ç‰‡çŠ¶ç»“æ„, æå¤§æ¯”è¡¨é¢ç§¯, å¿«é€Ÿå……ç”µ', progress: 'å°æ‰¹é‡åº”ç”¨' },
                { type: 'å¤åˆæµ†æ–™', application: 'SKI, èœ‚å·¢èƒ½æº', source: 'å¤©å¥ˆ, å¡åšç‰¹', highlight: 'ç¢³ç®¡+ç‚­é»‘, ååŒæ•ˆåº”, ç‚¹çº¿é¢ç»“åˆ', progress: 'é‡äº§' },
                { type: 'åˆ†æ•£å‰‚', application: 'æ‰€æœ‰ä½¿ç”¨æ–°å‹å¯¼ç”µå‰‚çš„ç”µèŠ¯å‚', source: 'ç‘æ³°æ–°æ, é™¶æ°', highlight: 'æ”¹å–„ç¢³ç®¡/çŸ³çƒ¯åˆ†æ•£, æå‡æµ†æ–™ç¨³å®šæ€§', progress: 'é‡äº§' },
                { type: 'æ–°å‹é”‚ç”µå¯¼ç”µææ–™', application: 'å›ºæ€ç”µæ± , é”‚é‡‘å±ç”µæ± ', source: 'ä¸“åˆ©, åˆåˆ›å…¬å¸', highlight: 'å…¼é¡¾ç¦»å­å’Œç”µå­å¯¼ç”µ, æŸ”æ€§å¯¼ç”µéª¨æ¶', progress: 'å®éªŒå®¤é˜¶æ®µ' },
                { type: 'å¯¼ç”µå‰‚æ­é…', application: 'é«˜ç«¯åŠ¨åŠ›ç”µæ± , é•¿å¾ªç¯å‚¨èƒ½', source: 'ç”µèŠ¯å‚å†…éƒ¨ç ”å‘', highlight: 'å¤šç»´åº¦å¯¼ç”µç½‘ç»œ, æ”¹å–„å¾ªç¯å’Œå€ç‡æ€§èƒ½', progress: 'é‡äº§åº”ç”¨' },
                { type: 'å¤åˆå¯¼ç”µå‰‚æ¨¡å‹', application: 'ä»¿çœŸè®¾è®¡, æ€§èƒ½é¢„æµ‹', source: 'å­¦æœ¯è®ºæ–‡, COMSOL', highlight: 'æŒ‡å¯¼é…æ–¹å¼€å‘, ä¼˜åŒ–å¯¼ç”µè·¯å¾„', progress: 'ç ”ç©¶é˜¶æ®µ' },
                { type: 'å¯¼ç”µå‰‚æ”¹å–„', application: 'é«˜é•æ­£æ, ç¡…ç¢³è´Ÿæ', source: 'ææ–™å‚ç ”å‘', highlight: 'è¡¨é¢æ”¹æ€§, æå‡ä¸æ´»æ€§ç‰©è´¨çš„ç›¸å®¹æ€§', progress: 'æŒç»­æ”¹è¿›' }
            ];

            const manufacturersData = [
                { name: 'å¤©å¥ˆç§‘æŠ€', type: 'ç¢³ç®¡', info: 'å¤šä»£ç¢³çº³ç±³ç®¡äº§å“', highlight: 'è¡Œä¸šé¾™å¤´, äº§èƒ½ä¼˜åŠ¿, é™DCR, é€‚é…ç¡…åŸº', ship: 'å¤§è§„æ¨¡å‡ºè´§', cell_maker: 'CATL, æ¯”äºšè¿ª, ATL', format: 'åœ†æŸ±, è½¯åŒ…', field: 'EV, 3C' },
                { name: 'å¡åšç‰¹', type: 'è¶…å¯¼ç‚­é»‘, å¤åˆæµ†æ–™', info: 'LITXç³»åˆ—å¯¼ç”µç‚­é»‘', highlight: 'ä¼ ç»Ÿå·¨å¤´, å“è´¨ç¨³å®š, æä¾›ä¸€ä½“åŒ–æµ†æ–™æ–¹æ¡ˆ', ship: 'å¤§è§„æ¨¡å‡ºè´§', cell_maker: 'LG, æ¾ä¸‹', format: 'åœ†æŸ±, æ–¹å£³', field: 'EV, å‚¨èƒ½' },
                { name: 'å¤§æ™Ÿçº³ç±³ç§‘æŠ€', type: 'ç¢³ç®¡', info: 'é«˜çº¯åº¦ç¢³çº³ç±³ç®¡', highlight: 'æŠ€æœ¯é©±åŠ¨, é«˜é•¿å¾„æ¯”, ä¼˜å¼‚åˆ†æ•£æ€§', ship: 'æ‰¹é‡å‡ºè´§', cell_maker: 'ä¸­åˆ›æ–°èˆª, äº¿çº¬é”‚èƒ½', format: 'è½¯åŒ…, æ–¹å£³', field: 'EV' },
                { name: 'æ ¼ç‘èŠ¬', type: 'çŸ³çƒ¯', info: 'å•å±‚çŸ³çƒ¯', highlight: 'çŸ³çƒ¯äº§ä¸šåŒ–å…ˆé©±, æå‡å¿«å……æ€§èƒ½', ship: 'å°‘é‡å‡ºè´§', cell_maker: 'å¹¿æ±½åŸƒå®‰', format: 'è½¯åŒ…', field: 'é«˜ç«¯EV' },
                { name: 'OCSIAl', type: 'ç¢³ç®¡', info: 'TUBALLâ„¢å•å£ç¢³çº³ç±³ç®¡', highlight: 'å•å£ç®¡æŠ€æœ¯é¢†å…ˆ, æä½æ·»åŠ é‡, é«˜å¯¼ç”µæ€§', ship: 'æ‰¹é‡å‡ºè´§', cell_maker: 'æ¯”äºšè¿ª, ç‰¹æ–¯æ‹‰ä¾›åº”é“¾', format: 'åœ†æŸ±(4680)', field: 'EV' },
                { name: 'ä¸‡é‘«', type: 'ç¢³ç®¡', info: 'ç¢³çº³ç±³ç®¡ç²‰ä½“å’Œæµ†æ–™', highlight: 'æˆæœ¬ä¼˜åŠ¿, å¿«é€Ÿæˆé•¿çš„å›½å†…å‚å•†', ship: 'æ‰¹é‡å‡ºè´§', cell_maker: 'å›½è½©é«˜ç§‘, å­šèƒ½ç§‘æŠ€', format: 'æ–¹å£³, è½¯åŒ…', field: 'EV, PHEV' },
                { name: 'æ— é”¡ä¸œæ’', type: 'ç¢³ç®¡', info: 'ç¢³çº³ç±³ç®¡å¯¼ç”µæµ†æ–™', highlight: 'ä¸“æ³¨äºå¯¼ç”µæµ†æ–™, åˆ†æ•£æŠ€æœ¯æœ‰ç‰¹è‰²', ship: 'æ‰¹é‡å‡ºè´§', cell_maker: 'éƒ¨åˆ†äºŒçº¿ç”µèŠ¯å‚', format: 'è½¯åŒ…', field: '3C, å°åŠ¨åŠ›' },
                { name: 'çº³ç±³æ¸¯', type: 'ç¢³ç®¡', info: 'å¤šå£ç¢³çº³ç±³ç®¡', highlight: 'äº§å­¦ç ”ç»“åˆ, äº§å“çº¯åº¦é«˜', ship: 'å°æ‰¹é‡å‡ºè´§', cell_maker: 'æ¬£æ—ºè¾¾', format: 'è½¯åŒ…', field: '3C' },
                { name: 'é›†è¶Šçº³ç±³', type: 'ç¢³ç®¡, çŸ³çƒ¯', info: 'æä¾›å¤šç§æ–°å‹å¯¼ç”µå‰‚', highlight: 'äº§å“çº¿ä¸°å¯Œ, å¤åˆå¯¼ç”µå‰‚æ˜¯äº®ç‚¹', ship: 'å°æ‰¹é‡å‡ºè´§', cell_maker: 'éƒ¨åˆ†å‚¨èƒ½å®¢æˆ·', format: 'æ–¹å£³', field: 'å‚¨èƒ½' },
                { name: 'ç‘æ³°æ–°æ', type: 'åˆ†æ•£å‰‚', info: 'é…åˆæ–°å‹å¯¼ç”µå‰‚çš„åŠ©å‰‚', highlight: 'æå‡æµ†æ–™ç¨³å®šæ€§, æ”¹å–„åŠ å·¥æ€§èƒ½', ship: 'å¤§è§„æ¨¡å‡ºè´§', cell_maker: 'å¤šæ•°ä¸»æµç”µèŠ¯å‚', format: 'é€šç”¨', field: 'EV, å‚¨èƒ½, 3C' },
                { name: 'é»‘çŒ«è‚¡ä»½', type: 'ä¹™ç‚”é»‘, è¶…å¯¼ç‚­é»‘', info: 'ä¼ ç»Ÿç‚­é»‘äº§å“', highlight: 'å›½å†…ç‚­é»‘è€ç‰Œä¼ä¸š, è§„æ¨¡å’Œæˆæœ¬ä¼˜åŠ¿', ship: 'å¤§è§„æ¨¡å‡ºè´§', cell_maker: 'å¤šå®¶ç”µèŠ¯å‚', format: 'æ–¹å£³', field: 'å‚¨èƒ½, ä½é€Ÿè½¦' },
                { name: 'ç›Šç‘çŸ³', type: 'è¶…å¯¼ç‚­é»‘', info: 'é«˜æ€§èƒ½å¯¼ç”µç‚­é»‘', highlight: 'åŸIMERYS, é«˜ç«¯ç‚­é»‘å¸‚åœºé‡è¦å‚ä¸è€…', ship: 'å¤§è§„æ¨¡å‡ºè´§', cell_maker: 'ä¸‰æ˜ŸSDI, SKI', format: 'è½¯åŒ…, åœ†æŸ±', field: 'EV' },
                { name: 'å’Œå…´åŒ–å·¥', type: 'ä¹™ç‚”é»‘', info: 'ç”µæ± çº§ä¹™ç‚”é»‘', highlight: 'å›½å†…ä¹™ç‚”é»‘ä¸»è¦ä¾›åº”å•†', ship: 'å¤§è§„æ¨¡å‡ºè´§', cell_maker: 'å›½å†…å¤šå®¶ç”µèŠ¯å‚', format: 'æ–¹å£³, è½¯åŒ…', field: 'PHEV, 3C' },
                { name: 'ç‹®ç‹', type: 'ç§‘ç´é»‘', info: 'Ketjenblackç³»åˆ—', highlight: 'ç§‘ç´é»‘æŠ€æœ¯é¢†å…ˆè€…, æé«˜å¯¼ç”µæ•ˆç‡', ship: 'å¤§è§„æ¨¡å‡ºè´§', cell_maker: 'LG, CATL (é«˜ç«¯äº§å“)', format: 'è½¯åŒ…', field: 'é«˜ç«¯EV, 3C' },
                { name: 'Denka', type: 'ä¹™ç‚”é»‘', info: 'DENKA BLACKÂ®', highlight: 'é«˜å“è´¨ä¹™ç‚”é»‘ä»£è¡¨, å¸æ¶²ä¿æ¶²æ€§èƒ½ä¼˜å¼‚', ship: 'å¤§è§„æ¨¡å‡ºè´§', cell_maker: 'æ¾ä¸‹, LG', format: 'åœ†æŸ±', field: 'EV' },
                { name: 'ç¢³å¯»', type: 'ç¢³ç®¡', info: 'æ–°å‹ç¢³çº³ç±³ç®¡', highlight: 'åˆåˆ›å…¬å¸, æŠ€æœ¯è·¯çº¿æœ‰åˆ›æ–°', ship: 'ç ”å‘/ä¸­è¯•', cell_maker: 'åˆä½œç ”å‘', format: 'é€šç”¨', field: 'ä¸‹ä¸€ä»£ç”µæ± ' }
            ];

            const navMaterials = document.getElementById('nav-materials');
            const navManufacturers = document.getElementById('nav-manufacturers');
            const viewMaterials = document.getElementById('view-materials');
            const viewManufacturers = document.getElementById('view-manufacturers');

            let currentView = 'materials';
            let materialsChart, manufacturersChart, cellFormatChart;

            function switchView(view) {
                currentView = view;
                if (view === 'materials') {
                    viewMaterials.style.display = 'block';
                    viewManufacturers.style.display = 'none';
                    navMaterials.classList.add('active-nav');
                    navMaterials.classList.remove('inactive-nav');
                    navManufacturers.classList.add('inactive-nav');
                    navManufacturers.classList.remove('active-nav');
                } else {
                    viewMaterials.style.display = 'none';
                    viewManufacturers.style.display = 'block';
                    navManufacturers.classList.add('active-nav');
                    navManufacturers.classList.remove('inactive-nav');
                    navMaterials.classList.add('inactive-nav');
                    navMaterials.classList.remove('active-nav');
                }
            }

            navMaterials.addEventListener('click', () => switchView('materials'));
            navManufacturers.addEventListener('click', () => switchView('manufacturers'));

            function populateFilter(selectElement, data, key) {
                const uniqueValues = [...new Set(data.map(item => item[key]))].sort();
                uniqueValues.forEach(value => {
                    const option = document.createElement('option');
                    option.value = value;
                    option.textContent = value;
                    selectElement.appendChild(option);
                });
            }

            function debounce(func, delay) {
                let timeout;
                return function(...args) {
                    clearTimeout(timeout);
                    timeout = setTimeout(() => func.apply(this, args), delay);
                };
            }
            
            function renderMaterialsTable(data) {
                const tableBody = document.getElementById('materials-table').querySelector('tbody');
                tableBody.innerHTML = '';
                data.forEach(item => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${item.type}</td>
                        <td>${item.application}</td>
                        <td>${item.source}</td>
                        <td>${item.highlight}</td>
                        <td>${item.progress}</td>
                    `;
                    tableBody.appendChild(row);
                });
            }

            function updateMaterialsChart(data) {
                const typeCounts = data.reduce((acc, item) => {
                    acc[item.type] = (acc[item.type] || 0) + 1;
                    return acc;
                }, {});

                const sortedTypes = Object.keys(typeCounts).sort((a, b) => typeCounts[b] - typeCounts[a]);
                const chartLabels = sortedTypes;
                const chartData = sortedTypes.map(type => typeCounts[type]);

                if (materialsChart) {
                    materialsChart.data.labels = chartLabels;
                    materialsChart.data.datasets[0].data = chartData;
                    materialsChart.update();
                }
            }
            
            function filterAndRenderMaterials() {
                const typeFilter = document.getElementById('materials-type-filter').value;
                const searchInput = document.getElementById('materials-search-input').value.toLowerCase();
                
                let filteredData = materialsData;

                if (typeFilter !== 'all') {
                    filteredData = filteredData.filter(item => item.type === typeFilter);
                }

                if (searchInput) {
                    filteredData = filteredData.filter(item => 
                        Object.values(item).some(val => val.toString().toLowerCase().includes(searchInput))
                    );
                }
                
                renderMaterialsTable(filteredData);
                updateMaterialsChart(filteredData);
            }

            function renderManufacturersTable(data) {
                const tableBody = document.getElementById('manufacturers-table').querySelector('tbody');
                tableBody.innerHTML = '';
                data.forEach(item => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${item.name}</td>
                        <td>${item.type}</td>
                        <td>${item.info}</td>
                        <td>${item.highlight}</td>
                        <td>${item.ship}</td>
                        <td>${item.cell_maker}</td>
                        <td>${item.format}</td>
                        <td>${item.field}</td>
                    `;
                    tableBody.appendChild(row);
                });
            }

            function updateManufacturersCharts(data) {
                const nameCounts = data.reduce((acc, item) => {
                    acc[item.name] = (acc[item.name] || 0) + 1;
                    return acc;
                }, {});
                
                const sortedNames = Object.keys(nameCounts).sort((a,b) => nameCounts[b] - nameCounts[a]);
                const manuChartLabels = sortedNames;
                const manuChartData = sortedNames.map(name => nameCounts[name]);

                if (manufacturersChart) {
                    manufacturersChart.data.labels = manuChartLabels;
                    manufacturersChart.data.datasets[0].data = manuChartData;
                    manufacturersChart.update();
                }

                const formatCounts = data.reduce((acc, item) => {
                    const formats = item.format.split(',').map(f => f.trim());
                    formats.forEach(format => {
                        if(format) acc[format] = (acc[format] || 0) + 1;
                    });
                    return acc;
                }, {});

                const cellFormatLabels = Object.keys(formatCounts);
                const cellFormatData = Object.values(formatCounts);
                
                if(cellFormatChart) {
                    cellFormatChart.data.labels = cellFormatLabels;
                    cellFormatChart.data.datasets[0].data = cellFormatData;
                    cellFormatChart.update();
                }
            }

            function filterAndRenderManufacturers() {
                const nameFilter = document.getElementById('manufacturers-name-filter').value;
                const typeFilter = document.getElementById('manufacturers-type-filter').value;
                const searchInput = document.getElementById('manufacturers-search-input').value.toLowerCase();
                
                let filteredData = manufacturersData;

                if (nameFilter !== 'all') {
                    filteredData = filteredData.filter(item => item.name === nameFilter);
                }
                
                if (typeFilter !== 'all') {
                    filteredData = filteredData.filter(item => item.type === typeFilter);
                }

                if (searchInput) {
                    filteredData = filteredData.filter(item => 
                        Object.values(item).some(val => val.toString().toLowerCase().includes(searchInput))
                    );
                }
                
                renderManufacturersTable(filteredData);
                updateManufacturersCharts(filteredData);
            }

            function createCharts() {
                const chartOptions = {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                color: '#374151'
                            }
                        },
                        tooltip: {
                            backgroundColor: '#1f2937',
                            titleColor: '#f9fafb',
                            bodyColor: '#f9fafb'
                        }
                    },
                    scales: {
                        x: {
                            ticks: { color: '#4b5563' },
                            grid: { color: 'rgba(209, 213, 219, 0.5)' }
                        },
                        y: {
                            ticks: { color: '#4b5563' },
                            grid: { color: 'rgba(209, 213, 219, 0.5)' }
                        }
                    }
                };
                
                const materialsCtx = document.getElementById('materials-chart').getContext('2d');
                materialsChart = new Chart(materialsCtx, {
                    type: 'bar',
                    data: { labels: [], datasets: [{ label: 'ææ–™ç±»å‹åˆ†å¸ƒ', data: [], backgroundColor: '#6b7280' }] },
                    options: { ...chartOptions, indexAxis: 'y' }
                });
                
                const manufacturersCtx = document.getElementById('manufacturers-chart').getContext('2d');
                manufacturersChart = new Chart(manufacturersCtx, {
                    type: 'bar',
                    data: { labels: [], datasets: [{ label: 'å„å‚å•†ææ–™æ¡ç›®æ•°', data: [], backgroundColor: '#ef4444' }] },
                    options: chartOptions
                });

                const cellFormatCtx = document.getElementById('cell-format-chart').getContext('2d');
                cellFormatChart = new Chart(cellFormatCtx, {
                    type: 'doughnut',
                    data: { labels: [], datasets: [{ label: 'ç”µèŠ¯è§„æ ¼åˆ†å¸ƒ', data: [], backgroundColor: ['#3b82f6', '#10b981', '#f97316', '#8b5cf6', '#ec4899'] }] },
                    options: { ...chartOptions, scales: {} }
                });
            }
            
            populateFilter(document.getElementById('materials-type-filter'), materialsData, 'type');
            populateFilter(document.getElementById('manufacturers-name-filter'), manufacturersData, 'name');
            populateFilter(document.getElementById('manufacturers-type-filter'), manufacturersData, 'type');
            
            document.getElementById('materials-type-filter').addEventListener('change', filterAndRenderMaterials);
            document.getElementById('materials-search-input').addEventListener('input', debounce(filterAndRenderMaterials, 300));
            document.getElementById('manufacturers-name-filter').addEventListener('change', filterAndRenderManufacturers);
            document.getElementById('manufacturers-type-filter').addEventListener('change', filterAndRenderManufacturers);
            document.getElementById('manufacturers-search-input').addEventListener('input', debounce(filterAndRenderManufacturers, 300));

            createCharts();
            filterAndRenderMaterials();
            filterAndRenderManufacturers();
            switchView('materials');
        });
    </script>
</body>
</html>

