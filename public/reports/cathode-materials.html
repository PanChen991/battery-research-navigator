<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>动力电池正极材料市场洞察</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chosen Palette: Cool Gray & Indigo -->
    <!-- Application Structure Plan: A tab-based SPA design with two main sections corresponding to the user's two tasks: 'Material Properties' and 'Manufacturer Applications'. This separation provides a clear, task-oriented navigation, preventing information overload. Each section features interactive filters (search, dropdowns) that dynamically update both a detailed data table and summary charts. This allows users to either perform a broad exploration via visualizations or conduct a deep dive into specific data points using the filtered table, maximizing usability for both research and analysis. -->
    <!-- Visualization & Content Choices: Task 1 (Materials): A bar chart compares material prices for quick cost analysis, and a donut chart shows market maturity (production vs. research). Task 2 (Manufacturers): A bar chart displays the number of suppliers per material type, indicating market competition and focus. These charts provide high-level summaries. The core information is in dynamically filtered HTML tables, chosen for their ability to present dense, multi-faceted data clearly. User interaction (filtering) directly links summary charts to detailed table data, creating an intuitive exploratory experience. All charts are rendered via Chart.js on Canvas. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
            background-color: #f8fafc;
        }
        .tab-button.active {
            border-color: #4f46e5;
            color: #4f46e5;
            background-color: #eef2ff;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <div class="container mx-auto p-4 md:p-8">
        
        <!-- 返回按钮 -->
        <div class="mb-4">
            <button onclick="window.close(); if(window.opener){window.opener.focus();} else {window.location.href='/'}" 
                    class="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 shadow-md">
                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                </svg>
                返回主页
            </button>
        </div>
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-slate-900">动力电池正极材料市场洞察</h1>
            <p class="mt-2 text-slate-600">一个用于探索正极材料特性与全球主流厂商应用的交互式仪表板</p>
        </header>

        <nav class="flex justify-center border-b border-slate-200 mb-6">
            <button id="tab-materials" class="tab-button text-sm md:text-base py-3 px-6 font-semibold border-b-2 border-transparent text-slate-500 hover:text-indigo-600 transition-colors duration-300">正极材料特性</button>
            <button id="tab-manufacturers" class="tab-button text-sm md:text-base py-3 px-6 font-semibold border-b-2 border-transparent text-slate-500 hover:text-indigo-600 transition-colors duration-300">厂商应用情况</button>
        </nav>

        <main id="content-area">
            <!-- Task 1: Materials Section -->
            <section id="materials-section" class="hidden">
                 <div class="bg-white p-6 rounded-xl shadow-sm mb-6">
                    <p class="text-slate-700">本部分深入探讨了各类主流与前沿正极材料的核心特性。您可以通过下方的筛选工具，快速定位特定材料的技术亮点、市场进展、成本及产能等关键信息。图表部分直观地展示了不同材料的价格区间与技术成熟度，辅助您进行快速比较与评估。</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                    <input type="text" id="materials-search" placeholder="搜索材料类型..." class="col-span-1 md:col-span-2 p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition">
                    <select id="materials-progress-filter" class="p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition">
                        <option value="all">所有进展</option>
                        <option value="量产">量产</option>
                        <option value="预研">预研</option>
                        <option value="中试">中试</option>
                    </select>
                </div>
                
                <div class="bg-white p-4 rounded-xl shadow-sm overflow-x-auto mb-8">
                    <table class="w-full text-sm text-left text-slate-500">
                        <thead class="text-xs text-slate-700 uppercase bg-slate-100">
                            <tr>
                                <th scope="col" class="px-6 py-3">材料类型</th>
                                <th scope="col" class="px-6 py-3">应用方向</th>
                                <th scope="col" class="px-6 py-3">材料来源方向</th>
                                <th scope="col" class="px-6 py-3">材料本身亮点</th>
                                <th scope="col" class="px-6 py-3">目前材料进展</th>
                                <th scope="col" class="px-6 py-3">价格(万元/吨)</th>
                                <th scope="col" class="px-6 py-3">产能(万吨/年)</th>
                            </tr>
                        </thead>
                        <tbody id="materials-table-body">
                        </tbody>
                    </table>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="bg-white p-6 rounded-xl shadow-sm">
                        <h3 class="text-lg font-semibold text-center mb-4">材料价格对比</h3>
                        <div class="chart-container">
                            <canvas id="price-chart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm">
                        <h3 class="text-lg font-semibold text-center mb-4">材料进展分布</h3>
                         <div class="chart-container">
                            <canvas id="progress-chart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Task 2: Manufacturers Section -->
            <section id="manufacturers-section" class="hidden">
                <div class="bg-white p-6 rounded-xl shadow-sm mb-6">
                    <p class="text-slate-700">本部分汇集了全球主流正极材料厂商的产品布局与市场动态。您可以查询特定厂商的材料类型、技术特点、客户关系及产能扩张计划，特别是其海外建厂情况。通过互动式表格和图表，您可以快速了解产业链的合作格局与全球化趋势。</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                    <input type="text" id="manufacturers-search" placeholder="搜索材料厂商..." class="p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition">
                    <select id="manufacturers-type-filter" class="p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition">
                        <option value="all">所有材料类型</option>
                    </select>
                     <select id="manufacturers-overseas-filter" class="p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition">
                        <option value="all">海外建厂情况</option>
                        <option value="有">有</option>
                        <option value="规划中">规划中</option>
                        <option value="无">无</option>
                    </select>
                </div>

                <div class="bg-white p-4 rounded-xl shadow-sm overflow-x-auto mb-8">
                    <table class="w-full text-sm text-left text-slate-500">
                        <thead class="text-xs text-slate-700 uppercase bg-slate-100">
                            <tr>
                                <th scope="col" class="px-6 py-3">材料厂商</th>
                                <th scope="col" class="px-6 py-3">材料类型</th>
                                <th scope="col" class="px-6 py-3">材料信息</th>
                                <th scope="col" class="px-6 py-3">材料本身亮点</th>
                                <th scope="col" class="px-6 py-3">出货情况</th>
                                <th scope="col" class="px-6 py-3">电芯厂使用</th>
                                <th scope="col" class="px-6 py-3">应用电芯规格</th>
                                <th scope="col" class="px-6 py-3">电芯应用领域</th>
                                <th scope="col" class="px-6 py-3">材料工艺</th>
                                <th scope="col" class="px-6 py-3">海外建厂情况</th>
                            </tr>
                        </thead>
                        <tbody id="manufacturers-table-body">
                        </tbody>
                    </table>
                </div>
                 <div class="grid grid-cols-1">
                    <div class="bg-white p-6 rounded-xl shadow-sm">
                        <h3 class="text-lg font-semibold text-center mb-4">各类型材料供应商数量</h3>
                        <div class="chart-container">
                            <canvas id="supplier-chart"></canvas>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {

    const materialData = [
        { type: "高镍单晶三元", app: "高端EV, 4680电池", source: "材料厂, 专利", highlight: "长循环, 高安全, 低产气", progress: "量产", price: 18, capacity: 25 },
        { type: "中镍单晶高电压三元", app: "PHEV, 主流EV", source: "材料厂", highlight: "高电压, 兼顾成本与性能", progress: "量产", price: 15, capacity: 30 },
        { type: "富锂锰基", app: "下一代高能量密度电池", source: "文章, 专利", highlight: "超高容量(>250mAh/g), 电压衰减问题待解", progress: "预研", price: 25, capacity: 0.5 },
        { type: "磷酸铁锂", app: "EV, 储能, 低速车", source: "材料厂", highlight: "高安全, 长寿命, 低成本", progress: "量产", price: 4.5, capacity: 300 },
        { type: "磷酸锰铁锂", app: "中端EV, 储能", source: "材料厂", highlight: "提升电压平台, 能量密度优于LFP", progress: "量产", price: 6, capacity: 50 },
        { type: "镍锰酸锂", app: "高功率启动电源, HEV", source: "材料厂, 专利", highlight: "5V高电压平台, 倍率性能好", progress: "中试", price: 12, capacity: 5 },
        { type: "NC多晶/单晶混合", app: "动力电池", source: "材料厂", highlight: "平衡单晶和多晶的优缺点", progress: "量产", price: 17, capacity: 15 },
        { type: "高镍多晶三元", app: "高端EV", source: "材料厂", highlight: "高能量密度, 循环寿命和安全性是挑战", progress: "量产", price: 17.5, capacity: 40 },
        { type: "中镍多晶高电压三元", app: "主流EV, PHEV", source: "材料厂", highlight: "高压实, 循环寿命好", progress: "量产", price: 14, capacity: 80 },
        { type: "NMCA四元正极", app: "高端EV", source: "材料厂(LG)", highlight: "铝掺杂提升结构稳定性", progress: "量产", price: 18.5, capacity: 10 },
        { type: "NCA三元正极", app: "高端EV(Tesla)", source: "材料厂(住友)", highlight: "高克容量, 对生产环境要求苛刻", progress: "量产", price: 19, capacity: 10 },
        { type: "富锂镍酸锂(Li2NiO2)", app: "前沿研究", source: "文章", highlight: "理论容量高, 结构不稳定", progress: "预研", price: 30, capacity: 0.1 },
        { type: "富锂铁酸锂(Li5FeO4)", app: "前沿研究", source: "文章", highlight: "多电子转移, 高理论容量", progress: "预研", price: 28, capacity: 0.1 },
        { type: "钴酸锂", app: "消费电子(3C)", source: "材料厂", highlight: "高压实密度, 循环性能好, 成本高", progress: "量产", price: 22, capacity: 15 }
    ];

    const manufacturerData = [
        { name: "巴斯夫杉杉", type: "三元, LFP", info: "高镍NCM, LMFP", highlight: "高温性能, 循环寿命", ship: "批量出货", customer: "CATL, 中创新航", spec: "方形, 软包", field: "EV, 储能", process: "二烧, 水洗", overseas: "有" },
        { name: "容百科技", type: "三元", info: "NCM811, 9系超高镍, NCA", highlight: "高能量密度, 低DCR", ship: "批量出货", customer: "宁德时代, SK on", spec: "圆柱, 软包", field: "高端EV", process: "三烧, 前驱体一体化", overseas: "规划中" },
        { name: "当升科技", type: "三元, LCO", info: "高镍NCM, 车规级LCO", highlight: "国际客户认证, 高压实", ship: "批量出货", customer: "LGES, SK on, 比亚迪", spec: "软包, 方形", field: "EV, 3C", process: "二烧", overseas: "有" },
        { name: "天津巴莫", type: "三元, LCO", info: "高镍/中镍NCM, 高电压LCO", highlight: "高倍率性能, 消费类龙头", ship: "批量出货", customer: "三星SDI, ATL", spec: "软包, 圆柱", field: "EV, 3C", process: "二烧", overseas: "无" },
        { name: "华友钴业", type: "三元", info: "高镍NCM", highlight: "前驱体-正极一体化, 成本优势", ship: "批量出货", customer: "LGES, 容百(前驱体)", spec: "方形, 圆柱", field: "EV", process: "一体化", overseas: "有" },
        { name: "湖南裕能", type: "LFP", info: "动力型LFP, 储能型LFP", highlight: "成本控制, 规模效应", ship: "龙头, 大批量", customer: "宁德时代, 比亚迪", spec: "方形(刀片)", field: "EV, 储能", process: "固相法", overseas: "规划中" },
        { name: "德方纳米", type: "LFP, LMFP", info: "纳米磷酸铁锂, 补锂剂", highlight: "液相法工艺, 低温性能", ship: "龙头, 大批量", customer: "宁德时代, 亿纬锂能", spec: "方形", field: "EV, 储能", process: "液相法", overseas: "无" },
        { name: "龙蟠科技", type: "LFP", info: "磷酸铁锂", highlight: "磷化工资源整合", ship: "快速增长", customer: "瑞浦兰钧, 欣旺达", spec: "方形", field: "EV, 储能", process: "固相法", overseas: "有" },
        { name: "振华新材", type: "三元", info: "高镍/中镍单晶", highlight: "单晶技术领先, 低产气", ship: "批量出货", customer: "宁德时代, ATL", spec: "软包", field: "EV, 3C", process: "单晶工艺", overseas: "无" },
        { name: "贝特瑞", type: "三元, LFP", info: "高镍NCM, 硅碳负极", highlight: "正负极材料协同", ship: "批量出货", customer: "松下, 三星SDI", spec: "圆柱", field: "EV", process: "二烧", overseas: "有" },
        { name: "EcoPro BM", type: "三元", info: "高镍NCA, NCM", highlight: "全球高镍龙头", ship: "批量出货", customer: "三星SDI, SK on", spec: "圆柱, 软包", field: "高端EV", process: "三烧", overseas: "有" },
        { name: "LG化学", type: "三元", info: "NMCA四元, NCM", highlight: "自产自用, 技术领先", ship: "内部供应LGES", customer: "LGES", spec: "软包", field: "EV", process: "二烧", overseas: "有" },
        { name: "住友金属矿业", type: "三元", info: "NCA", highlight: "Tesla供应链核心", ship: "批量出货", customer: "松下", spec: "圆柱(2170, 4680)", field: "高端EV", process: "独特湿法冶炼", overseas: "有" },
        { name: "韩国L&F", type: "三元", info: "高镍NCM, NCMA", highlight: "高镍技术", ship: "批量出货", customer: "LGES, SK on", spec: "软包", field: "EV", process: "二烧", overseas: "规划中" }
    ];

    const tabMaterials = document.getElementById('tab-materials');
    const tabManufacturers = document.getElementById('tab-manufacturers');
    const materialsSection = document.getElementById('materials-section');
    const manufacturersSection = document.getElementById('manufacturers-section');

    const materialsTableBody = document.getElementById('materials-table-body');
    const manufacturersTableBody = document.getElementById('manufacturers-table-body');

    const materialsSearch = document.getElementById('materials-search');
    const materialsProgressFilter = document.getElementById('materials-progress-filter');
    
    const manufacturersSearch = document.getElementById('manufacturers-search');
    const manufacturersTypeFilter = document.getElementById('manufacturers-type-filter');
    const manufacturersOverseasFilter = document.getElementById('manufacturers-overseas-filter');

    let priceChart, progressChart, supplierChart;

    const chartColors = {
        primary: 'rgba(79, 70, 229, 0.7)',
        primaryBg: 'rgba(79, 70, 229, 0.1)',
        secondary: 'rgba(30, 64, 175, 0.7)',
        secondaryBg: 'rgba(30, 64, 175, 0.1)',
        accent: 'rgba(14, 165, 233, 0.7)',
        accentBg: 'rgba(14, 165, 233, 0.1)',
        neutral: 'rgba(100, 116, 139, 0.7)',
        neutralBg: 'rgba(100, 116, 139, 0.1)',
        pieColors: ['#6366f1', '#3b82f6', '#0ea5e9', '#f97316', '#ef4444', '#8b5cf6'],
    };

    function switchTab(activeTab) {
        if (activeTab === 'materials') {
            tabMaterials.classList.add('active');
            tabManufacturers.classList.remove('active');
            materialsSection.classList.remove('hidden');
            manufacturersSection.classList.add('hidden');
            renderMaterials();
        } else {
            tabMaterials.classList.remove('active');
            tabManufacturers.classList.add('active');
            materialsSection.classList.add('hidden');
            manufacturersSection.classList.remove('hidden');
            renderManufacturers();
        }
    }

    function renderMaterials(filteredData = materialData) {
        materialsTableBody.innerHTML = filteredData.map(item => `
            <tr class="bg-white border-b hover:bg-slate-50">
                <td class="px-6 py-4 font-medium text-slate-900 whitespace-nowrap">${item.type}</td>
                <td class="px-6 py-4">${item.app}</td>
                <td class="px-6 py-4">${item.source}</td>
                <td class="px-6 py-4">${item.highlight}</td>
                <td class="px-6 py-4"><span class="px-2 py-1 text-xs font-medium rounded-full ${item.progress === '量产' ? 'bg-green-100 text-green-800' : item.progress === '预研' ? 'bg-red-100 text-red-800' : 'bg-yellow-100 text-yellow-800'}">${item.progress}</span></td>
                <td class="px-6 py-4">${item.price}</td>
                <td class="px-6 py-4">${item.capacity}</td>
            </tr>
        `).join('');
        updatePriceChart(filteredData);
        updateProgressChart(filteredData);
    }
    
    function populateManufacturerFilters() {
        const materialTypes = [...new Set(manufacturerData.map(item => item.type.split(', ')).flat())];
        manufacturersTypeFilter.innerHTML = '<option value="all">所有材料类型</option>';
        materialTypes.forEach(type => {
            const option = document.createElement('option');
            option.value = type;
            option.textContent = type;
            manufacturersTypeFilter.appendChild(option);
        });
    }

    function renderManufacturers(filteredData = manufacturerData) {
        manufacturersTableBody.innerHTML = filteredData.map(item => `
            <tr class="bg-white border-b hover:bg-slate-50">
                <td class="px-6 py-4 font-medium text-slate-900 whitespace-nowrap">${item.name}</td>
                <td class="px-6 py-4">${item.type}</td>
                <td class="px-6 py-4">${item.info}</td>
                <td class="px-6 py-4">${item.highlight}</td>
                <td class="px-6 py-4">${item.ship}</td>
                <td class="px-6 py-4">${item.customer}</td>
                <td class="px-6 py-4">${item.spec}</td>
                <td class="px-6 py-4">${item.field}</td>
                <td class="px-6 py-4">${item.process}</td>
                <td class="px-6 py-4">${item.overseas}</td>
            </tr>
        `).join('');
        updateSupplierChart(filteredData);
    }
    
    function filterMaterials() {
        const searchTerm = materialsSearch.value.toLowerCase();
        const progress = materialsProgressFilter.value;

        const filtered = materialData.filter(item => {
            const matchesSearch = item.type.toLowerCase().includes(searchTerm);
            const matchesProgress = progress === 'all' || item.progress === progress;
            return matchesSearch && matchesProgress;
        });
        renderMaterials(filtered);
    }

    function filterManufacturers() {
        const searchTerm = manufacturersSearch.value.toLowerCase();
        const type = manufacturersTypeFilter.value;
        const overseas = manufacturersOverseasFilter.value;

        const filtered = manufacturerData.filter(item => {
            const matchesSearch = item.name.toLowerCase().includes(searchTerm);
            const matchesType = type === 'all' || item.type.includes(type);
            const matchesOverseas = overseas === 'all' || item.overseas === overseas;
            return matchesSearch && matchesType && matchesOverseas;
        });
        renderManufacturers(filtered);
    }

    function updatePriceChart(data) {
        const ctx = document.getElementById('price-chart').getContext('2d');
        const labels = data.map(item => item.type);
        const prices = data.map(item => item.price);

        if (priceChart) priceChart.destroy();
        priceChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: labels,
                datasets: [{
                    label: '价格 (万元/吨)',
                    data: prices,
                    backgroundColor: chartColors.primary,
                    borderColor: chartColors.primary,
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    y: { beginAtZero: true },
                    x: { ticks: { autoSkip: false, maxRotation: 75, minRotation: 45 } }
                }
            }
        });
    }

    function updateProgressChart(data) {
        const ctx = document.getElementById('progress-chart').getContext('2d');
        const progressCounts = data.reduce((acc, item) => {
            acc[item.progress] = (acc[item.progress] || 0) + 1;
            return acc;
        }, {});
        
        const labels = Object.keys(progressCounts);
        const counts = Object.values(progressCounts);

        if (progressChart) progressChart.destroy();
        progressChart = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: labels,
                datasets: [{
                    label: '材料进展分布',
                    data: counts,
                    backgroundColor: chartColors.pieColors,
                    hoverOffset: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
            }
        });
    }

    function updateSupplierChart(data) {
        const ctx = document.getElementById('supplier-chart').getContext('2d');
        const typeCounts = data.reduce((acc, item) => {
            const types = item.type.split(', ');
            types.forEach(type => {
                acc[type] = (acc[type] || 0) + 1;
            });
            return acc;
        }, {});
        
        const labels = Object.keys(typeCounts);
        const counts = Object.values(typeCounts);

        if (supplierChart) supplierChart.destroy();
        supplierChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: labels,
                datasets: [{
                    label: '供应商数量',
                    data: counts,
                    backgroundColor: chartColors.secondary,
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y',
                plugins: {
                    legend: { display: false }
                },
                 scales: {
                    x: { beginAtZero: true }
                }
            }
        });
    }

    tabMaterials.addEventListener('click', () => switchTab('materials'));
    tabManufacturers.addEventListener('click', () => switchTab('manufacturers'));
    
    materialsSearch.addEventListener('input', filterMaterials);
    materialsProgressFilter.addEventListener('change', filterMaterials);

    manufacturersSearch.addEventListener('input', filterManufacturers);
    manufacturersTypeFilter.addEventListener('change', filterManufacturers);
    manufacturersOverseasFilter.addEventListener('change', filterManufacturers);

    switchTab('materials');
    populateManufacturerFilters();
});
</script>

</body>
</html>
